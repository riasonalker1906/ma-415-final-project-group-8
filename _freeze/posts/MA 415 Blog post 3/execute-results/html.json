{
  "hash": "729c2a4f57b2115d0d231b63c33ddb8c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post 3\"\nauthor: \"Riya Parikh, Richard Pilleul, Jakob Moskowitz, Maika Takemoto, Ria Sonalker.\"\ndate: \"2024-10-26\"\ndate-modified: \"2024-10-26\"\ndraft: FALSE\n---\n\n**Data Cleaning**\nDuring initial data cleaning, we identified negative values in student number columns, which we removed along with entries marked with symbols (e.g., ‘-’, ‘†’, ‘‡’) for missing or inapplicable data. Moving forward, we plan to restructure the data to address our primary research questions from Blog Post 1, including creating tables sorted by academic year, grade, and gender.\n\nWe also found inconsistencies in state name formatting—some, like Texas, were fully capitalized, leading to them being treated as distinct entities. To resolve this, we plotted a bar chart of public schools by state to verify these discrepancies. After confirming this issue, we used the mutate function to standardize state names, capitalizing the first letter (e.g., converting TEXAS to Texas) to unify them.\n\nAdditionally, while cleaning for missing values, we observed that rows with excessive N/A values were being removed, which inadvertently led to the loss of many state names and potential bias in our analysis.\n\n**Preliminary Data Analysis**\nTo explore primary insights that our dataset could provide, we plotted a bar chart with the number of schools in each state.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n✔ readr     2.1.5     \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressWarnings(\nour_data_clean <- read_rds(here::here(\"dataset/our_data_clean.rds\")))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nour_data_clean <- our_data_clean |>\n  filter_all(all_vars(as.numeric(.) >= 0 | is.na(as.numeric(.)))) |>\n  mutate(`State Name [Public School] Latest available year` = str_to_title(`State Name [Public School] Latest available year`)) |>\n  mutate(across(-c(`School Name`, `State Name [Public School] Latest available year`), as.numeric))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: There were 4 warnings in `filter()`.\nThe first warning was:\nℹ In argument: `&...`.\nCaused by warning in `` as.numeric(`School Name`) >= 0 | is.na(as.numeric(`School Name`)) ``:\n! NAs introduced by coercion\nℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings.\n```\n\n\n:::\n\n```{.r .cell-code}\nour_data_clean |>\n  ggplot(aes(x = `State Name [Public School] Latest available year`)) + geom_bar() + theme(axis.text.x = element_text(angle = 45, hjust = 1)) + labs(title = \"Number Of Public Schools In Each State\", x = \"State\", y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](MA-415-Blog-post-3_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Selecting states to plots\n\nunique_states = unique(our_data_clean$`State Name [Public School] Latest available year`)\n\nselected_states <- our_data_clean[our_data_clean$`State Name [Public School] Latest available year` %in% unique_states[1:11], ]\n```\n:::\n\n\n**Outlier Analysis**\nWe selected five states to analyze potential outliers in school student numbers. The graph indicates that Pennsylvania has significant outliers, with some schools reporting over 10,000 Grade 1-8 students. We also see the spread of outliers being the greatest for Pennsylvania schools. Moreover, one can observe that the interquartile range for states differ. For example, Colorado has the biggest interquartile range, showing that the middle half of the data, for the number of students in Colorado schools, is spread out. On the other hand, Minnesota has a seemingly lower IQR. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Outlier Analysis \n\nggplot(selected_states, aes(x = `State Name [Public School] Latest available year`, \n                             y = `Grades 1-8 Students [Public School] 2022-23`)) +\n  geom_boxplot(fill = \"lightblue\") +\n  labs(title = \"Boxplot of Total Grade 1-8 Students by State in 2022-23\",\n       x = \"States\",\n       y = \"Count of Students\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))  # Rotate x-axis labels to vertical\n```\n\n::: {.cell-output-display}\n![](MA-415-Blog-post-3_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n**Investigating potential relations between Variables**\nWe wanted to investigate if we found any correlation between our variables. For our preliminary check, we investigated a potential relationship between number of male and female students enrolled in public schools from 2022-23. As we see from the graph below, there exists a strong linear correlation between the two.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(our_data_clean, aes(x = `Male Students [Public School] 2022-23`, y = `Male Students [Public School] 2022-23`)) +\n  geom_point(color = \"blue\") +\n  labs(title = \"Scatterplot of Male vs. Female Students\",\n       x = \"Number of Male Students\",\n       y = \"Number of Female Students\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](MA-415-Blog-post-3_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::",
    "supporting": [
      "MA-415-Blog-post-3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}